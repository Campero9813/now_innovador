<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

<section class="ae-container-fluid rk-main">

    <!-- banners -->
    <div id="carouselExampleIndicators" class="carousel slide" style="margin-top: 6.8rem; margin-bottom: 1rem">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3" aria-label="Slide 4"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="./assets/img/banners/banner_home/1_banner_home.png " class="d-block w-100" alt="..." />
            </div>
            <div class="carousel-item">
                <img src="./assets/img/banners/banner_home/2_banner_home_2.png" class="d-block w-100" alt="..." />
            </div>
            <div class="carousel-item">
                <img src="./assets/img/banners/banner_home/3_banner_home_3.png " class="d-block w-100" alt="..." />
            </div>
            <div class="carousel-item">
                <img src="./assets/img/banners/banner_home/4_banner_caja_life.png " class="d-block w-100" alt="..." />
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    <!-- End banners -->

    <section class="ae-container-fluid ae-container-fluid--inner rk-portfolio" style="margin-bottom: 4rem">
        <!-- Loading -->
        <div align="center" *ngIf="prodService.cargando">
            <h2>Cargando...</h2>

            <div class="loader loader--style1" title="0">
                <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve">
                    <path opacity="0.2" fill="#000" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z" />
                    <path fill="#000" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0C22.32,8.481,24.301,9.057,26.013,10.047z">
                        <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 20 20" to="360 20 20" dur="0.5s" repeatCount="indefinite" />
                    </path>
                </svg>
            </div>
        </div>
        <!-- End Loading -->


        <div style="padding-top: 4rem" class="card-group">
            <div *ngFor="let item1 of pruebas1.prueba.slice(0, 3)" class="card">
                <ng-container *ngIf="item1.imagen_portada; else elseTemplate">
                    <img [routerLink]="['/producto', item1.id_producto]" class="card-img-top" src="./assets/productos_now/{{ item1.imagen_portada }} " alt="Card image cap " />
                </ng-container>
                <ng-template #elseTemplate>
                    <img class="card-img-top" src="./assets/img/remodelacion.jpg" alt="">
                </ng-template>

                <div class="card-body">
                    <h5 class="card-title">{{ item1.nombre_producto }}</h5>
                    <p class="card-text">{{ item1.descripcion_corta }}</p>
                    <div style="display: none" id="txtAcortado ">
                        {{ txtAcortado }}
                    </div>
                    <p class="card-text">
                        <small class="text-muted">{{ item1.precio | currency }}</small>
                    </p>
                    <p class="card-text">
                        <small class="text-muted">{{ item1.categoria }}</small>
                    </p>
                    <a [routerLink]="['/producto', item1.id_producto]" class="button-cards">Ver más</a>
                    <button class="button-cards" (click)="agregarAlCarrito(item1)">Agregar a carrito</button>
                </div>
            </div>
        </div>
    </section>



    <!-- Banner body wash -->
    <div id="carouselExampleIndicators " class="carousel slide" style="margin-bottom: 4rem">
        <div class="carousel-indicators"></div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="./assets/img/banners/body_wash/banner_body_wash.png " class="d-block w-80" alt="... " />
            </div>
        </div>
    </div>
    <!-- End Banner body wash -->


    <section class="ae-container-fluid ae-container-fluid--inner rk-portfolio" style="margin-top: 2rem; margin-bottom: 4rem">

        <div class="card-group">
            <div *ngFor="let item2 of pruebas1.prueba.slice(3, 6)" class="card">
                <ng-container *ngIf="item2.imagen_portada; else elseTemplate">
                    <img [routerLink]="['/producto', item2.id_producto]" class="card-img-top" src="./assets/productos_now/{{ item2.imagen_portada }} " alt="Card image cap " />
                </ng-container>
                <ng-template #elseTemplate>
                    <img class="card-img-top" src="./assets/img/remodelacion.jpg" alt="">
                </ng-template>
                <div class="card-body">
                    <h5 class="card-title">{{ item2.nombre_producto }}</h5>
                    <p class="card-text">{{ item2.descripcion_corta }}</p>
                    <div style="display: none" id="txtAcortado ">
                        {{ txtAcortado }}
                    </div>
                    <p class="card-text">
                        <small class="text-muted">{{ item2.precio | currency }}</small>
                    </p>
                    <p class="card-text">
                        <small class="text-muted">{{ item2.categoria }}</small>
                    </p>
                    <a [routerLink]="['/producto', item2.id_producto]" class="button-cards">Ver más</a>
                    <button class="button-cards" (click)="agregarAlCarrito(item2)">Agregar a carrito</button>
                </div>
            </div>
        </div>
    </section>



    <!-- Banner hand soap -->
    <div id="carouselExampleIndicators " class="carousel slide" style="margin-bottom: 4rem">
        <div class="carousel-indicators"></div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="./assets/img/banners/hand_soap/banner_hand_soap.jpg " class="d-block w-80" alt="... " />
            </div>
        </div>
    </div>
    <!-- End banner hand soap -->


    <section class="ae-container-fluid ae-container-fluid--inner rk-portfolio" style="margin-top: 2rem; margin-bottom: 4rem">

        <div class="card-group">
            <div *ngFor="let item3 of pruebas1.prueba.slice(6, 9)" class="card">
                <ng-container *ngIf="item3.imagen_portada; else elseTemplate">
                    <img [routerLink]="['/producto', item3.id_producto]" class="card-img-top" src="./assets/productos_now/{{ item3.imagen_portada }} " alt="Card image cap " />
                </ng-container>
                <ng-template #elseTemplate>
                    <img class="card-img-top" src="./assets/img/remodelacion.jpg" alt="">
                </ng-template>
                <div class="card-body">
                    <h5 class="card-title">{{ item3.nombre_producto }}</h5>
                    <p class="card-text">{{ item3.descripcion_corta }}</p>
                    <div style="display: none" id="txtAcortado ">
                        {{ txtAcortado }}
                    </div>
                    <p class="card-text">
                        <small class="text-muted">{{ item3.precio | currency }}</small>
                    </p>
                    <p class="card-text">
                        <small class="text-muted">{{ item3.categoria }}</small>
                    </p>
                    <a [routerLink]="['/producto', item3.id_producto]" class="button-cards">Ver más</a>
                    <button class="button-cards" (click)="agregarAlCarrito(item3)">Agregar a carrito</button>
                </div>
            </div>
        </div>

    </section>


    <!-- banner body mist -->
    <div id="carouselExampleIndicators1" class="carousel slide" style="margin-bottom: 4rem">
        <!-- <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleIndicators1" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators1" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators1" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div> -->
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="./assets/img/banners/body_mist/body_mist_men.png" class="d-block w-100" alt="..." />
            </div>
            <!-- <div class="carousel-item">
                <img src="./assets/img/banners/body_mist/body_mist_woman.png" class="d-block w-100" alt="..." />
            </div>
            <div class="carousel-item">
                <img src="./assets/img/banners/body_mist/bodys_dulces.png" class="d-block w-100" alt="..." />
            </div> -->
        </div>
        <!-- <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators1" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators1 " data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button> -->
    </div>
    <!-- End banner body mist -->



    <section class="ae-container-fluid ae-container-fluid--inner rk-portfolio" style="margin-top: 4rem; margin-bottom: 4rem">

        <div class="card-group">
            <div *ngFor="let item4 of pruebas1.prueba.slice(9, 12)" class="card">
                <ng-container *ngIf="item4.imagen_portada; else elseTemplate">
                    <img [routerLink]="['/producto', item4.id_producto]" class="card-img-top" src="./assets/productos_now/{{ item4.imagen_portada }} " alt="Card image cap " />
                </ng-container>
                <ng-template #elseTemplate>
                    <img class="card-img-top" src="./assets/img/remodelacion.jpg" alt="">
                </ng-template>
                <div class="card-body">
                    <h5 class="card-title">{{ item4.nombre_producto }}</h5>
                    <p class="card-text">{{ item4.descripcion_corta }}</p>
                    <div style="display: none" id="txtAcortado ">
                        {{ txtAcortado }}
                    </div>
                    <p class="card-text">
                        <small class="text-muted">{{ item4.precio | currency }}</small>
                    </p>
                    <p class="card-text">
                        <small class="text-muted">{{ item4.categoria }}</small>
                    </p>
                    <a [routerLink]="['/producto', item4.id_producto]" class="button-cards">Ver más</a>
                    <button class="button-cards" (click)="agregarAlCarrito(item4)">Agregar a carrito</button>
                </div>
            </div>
        </div>
    </section>

    <!-- banner body mist -->
    <div id="carouselExampleIndicators2" class="carousel slide" style="margin-bottom: 4rem">
        <!-- <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div> -->
        <div class="carousel-inner">
            <!-- <div class="carousel-item active">
                <img src="./assets/img/banners/body_mist/body_mist_men.png" class="d-block w-100" alt="..." />
            </div> -->
            <div class="carousel-item active">
                <img src="./assets/img/banners/body_mist/body_mist_woman.png" class="d-block w-100" alt="..." />
            </div>
            <!-- <div class="carousel-item">
                <img src="./assets/img/banners/body_mist/bodys_dulces.png" class="d-block w-100" alt="..." />
            </div> -->
        </div>
        <!-- <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators2 " data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button> -->
    </div>
    <!-- End banner body mist -->

    <section class="ae-container-fluid ae-container-fluid--inner rk-portfolio" style="margin-top: 4rem; margin-bottom: 4rem">
        <div class="card-group">
            <div *ngFor="let item5 of pruebas1.prueba.slice(12, 15)" class="card">
                <ng-container *ngIf="item5.imagen_portada; else elseTemplate">
                    <img [routerLink]="['/producto', item5.id_producto]" class="card-img-top" src="./assets/productos_now/{{ item5.imagen_portada }} " alt="Card image cap " />
                </ng-container>
                <ng-template #elseTemplate>
                    <img class="card-img-top" src="./assets/img/remodelacion.jpg" alt="">
                </ng-template>
                <div class="card-body">
                    <h5 class="card-title">{{ item5.nombre_producto }}</h5>
                    <p class="card-text">{{ item5.descripcion_corta }}</p>
                    <div style="display: none" id="txtAcortado ">
                        {{ txtAcortado }}
                    </div>
                    <p class="card-text">
                        <small class="text-muted">{{ item5.precio | currency }}</small>
                    </p>
                    <p class="card-text">
                        <small class="text-muted">{{ item5.categoria }}</small>
                    </p>
                    <a [routerLink]="['/producto', item5.id_producto]" class="button-cards">Ver más</a>
                    <button class="button-cards" (click)="agregarAlCarrito(item5)">Agregar a carrito</button>
                </div>
            </div>
        </div>
    </section>

    <!-- banner body mist -->
    <div id="carouselExampleIndicators3" class="carousel slide" style="margin-bottom: 4rem">
        <!-- <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleIndicators3" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators3" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators3" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div> -->
        <div class="carousel-inner">
            <!-- <div class="carousel-item active">
                <img src="./assets/img/banners/body_mist/body_mist_men.png" class="d-block w-100" alt="..." />
            </div>
            <div class="carousel-item">
                <img src="./assets/img/banners/body_mist/body_mist_woman.png" class="d-block w-100" alt="..." />
            </div> -->
            <div class="carousel-item active">
                <img src="./assets/img/banners/body_mist/bodys_dulces.png" class="d-block w-100" alt="..." />
            </div>
        </div>
        <!-- <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators3" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators3 " data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button> -->
    </div>
    <!-- End banner body mist -->


    <section class="ae-container-fluid ae-container-fluid--inner rk-portfolio" style="margin-top: 4rem; margin-bottom: 4rem">
        <div class="card-group">
            <div *ngFor="let item6 of pruebas1.prueba.slice(15, 18)" class="card">
                <ng-container *ngIf="item6.imagen_portada; else elseTemplate">
                    <img [routerLink]="['/producto', item6.id_producto]" class="card-img-top" src="./assets/productos_now/{{ item6.imagen_portada }} " alt="Card image cap " />
                </ng-container>
                <ng-template #elseTemplate>
                    <img class="card-img-top" src="./assets/img/remodelacion.jpg" alt="">
                </ng-template>
                <div class="card-body">
                    <h5 class="card-title">{{ item6.nombre_producto }}</h5>
                    <p class="card-text">{{ item6.descripcion_corta }}</p>
                    <div style="display: none" id="txtAcortado ">
                        {{ txtAcortado }}
                    </div>
                    <p class="card-text">
                        <small class="text-muted">{{ item6.precio | currency }}</small>
                    </p>
                    <p class="card-text">
                        <small class="text-muted">{{ item6.categoria }}</small>
                    </p>
                    <a [routerLink]="['/producto', item6.id_producto]" class="button-cards">Ver más</a>
                    <button class="button-cards" (click)="agregarAlCarrito(item6)">Agregar a carrito</button>
                </div>
            </div>
        </div>
    </section>

    <!-- banner body mist -->
    <div id="carouselExampleIndicators4" class="carousel slide" style="margin-bottom: 4rem">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleIndicators4" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators4" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators4" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="./assets/img/banners/body_mist/body_mist_men.png" class="d-block w-100" alt="..." />
            </div>
            <div class="carousel-item">
                <img src="./assets/img/banners/body_mist/body_mist_woman.png" class="d-block w-100" alt="..." />
            </div>
            <div class="carousel-item">
                <img src="./assets/img/banners/body_mist/bodys_dulces.png" class="d-block w-100" alt="..." />
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators4" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators4 " data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
    </div>
    <!-- End banner body mist -->

    <section class="ae-container-fluid ae-container-fluid--inner rk-portfolio" style="margin-top: 4rem; margin-bottom: 4rem">
        <div class="card-group">
            <div *ngFor="let item7 of pruebas1.prueba.slice(18, 21)" class="card">
                <ng-container *ngIf="item7.imagen_portada; else elseTemplate">
                    <img [routerLink]="['/producto', item7.id_producto]" class="card-img-top" src="./assets/productos_now/{{ item7.imagen_portada }} " alt="Card image cap " />
                </ng-container>
                <ng-template #elseTemplate>
                    <img class="card-img-top" src="./assets/img/remodelacion.jpg" alt="">
                </ng-template>
                <div class="card-body">
                    <h5 class="card-title">{{ item7.nombre_producto }}</h5>
                    <p class="card-text">{{ item7.descripcion_corta }}</p>
                    <div style="display: none" id="txtAcortado ">
                        {{ txtAcortado }}
                    </div>
                    <p class="card-text">
                        <small class="text-muted">{{ item7.precio | currency }}</small>
                    </p>
                    <p class="card-text">
                        <small class="text-muted">{{ item7.categoria }}</small>
                    </p>
                    <a [routerLink]="['/producto', item7.id_producto]" class="button-cards">Ver más</a>
                    <button class="button-cards" (click)="agregarAlCarrito(item7)">Agregar a carrito</button>
                </div>
            </div>
        </div>
    </section>





    <!-- Contenedor del carrito de compras -->
    <div *ngIf="carritoVisible" class="carrito-contenedor">

        <h2>Carrito de compras </h2>
        <table id="lista-carrito" class="u-full-width">
            <thead>
                <tr>
                    <th>Imagen</th>
                    <th>Nombre</th>
                    <th>Precio</th>
                    <th>Cantidad</th>
                    <th></th>
                </tr>
            </thead>
            <tbody *ngFor="let carro of carrito; let i = index">
                <tr>
                    <td><img style="width: 50px" class="card-img-top" src="./assets/productos_now/{{ carro.imagen_portada }}" alt="..." /></td>
                    <td>{{ carro.nombre_producto }}</td>
                    <td>{{ carro.precio | currency }}</td>
                    <!-- <td>{{ carro.cantidad }} </td> -->
                    <td><button (click)="decrementarCantidad(carro)">-</button> {{ carro.cantidad }} <button (click)="incrementarCantidad(carro)">+</button></td>
                    <td><button class="botones_carrito" (click)="eliminarDelCarrito(i)">x</button></td>
                </tr>
            </tbody>
        </table>

        <button class="botones_carrito" (click)="vaciarCarrito()">Vaciar Carrito</button>
        <button routerLink="checkout" class="botones_carrito" (click)="finalizarCompra()">Procesar Compra</button>
        <button class="boton-cerrar" (click)="carritoVisible = false">Cerrar Carrito</button>

    </div>
    <!-- Botón flotante para ver el carrito -->
    <button class="boton-flotante" (click)="verCarrito()">
            <i class="fas fa-shopping-cart">{{ carrito.length }}</i>
        </button>





</section>